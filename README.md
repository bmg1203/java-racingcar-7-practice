# java-racingcar-precourse

# 💬 우테코 프리코스 2주차 - 자동차 경주

**`초간단 자동차 경주 게임을 구현한다.`**

---

## 📝 기능 요구 사항 정리

- [x] 애플리케이션이 시작되면, **경주할 자동차의 이름**을 **입력**받는다.
    - 입력은 `Console.readLine()`을 통해 입력받는다.
    - 이름은 쉼표(,) 를 기준으로 구분된다.
    - 이름은 5자 이하만 가능하다.

- [x] 이름을 입력받은 후, **시도할 횟수**를 **입력**받는다.
    - 입력은 `Console.readLine()`을 통해 입력받는다.

- [x] 주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.
    - 전진하는 조건은 0에서 9 사이에서 무작위 값을 구한 후, 무작위 값이 4 이상일 경우이다.
    - 무작위 값은 제공된 라이브러리의  `Randoms.pickNumberInRange()`를 활용한다.

- [x] 자동차 경주 게임을 완료한 후, **누가 우승했는지를 알려준다**.
    - 우승자는 한 명 이상일 수 있다.
    - 우승자가 여러 명일 경우 쉼표(,) 를 이용하여 구분한다.

- [x] 사용자가 잘못된 값을 입력할 경우, `IllegalArgumentException`을 발생시킨 후 애플리케이션은 종료되어야 한다.

---

## ✏️ 구현할 기능 목록

### 1. 자동차 경주 진행을 위한 준비
- 출력 기능
    - [x] `경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)`라는 내용을 사용자에게 출력하기
- 입력 기능
    - [x] 경주할 자동차의 이름을 `Console.readLine()`으로 입력받기
- 입력 유효성 검사 기능
    - [x] 입력된 자동차의 이름이 `5`자 이하인지 검사하기
    - [x] 빈 값이 들어왔는지 검사하기
- 입력 처리 기능
    - [x] 자동차의 입력이 다수인지 (쉼표가 포함되어 있는지) 확인하기
    - [x] 다수의 입력이라면, 각 자동차의 이름을 쉼표(,)를 기준으로 분리하기
- 자동차 객체 저장 기능
    - [x] 분리한 각 자동차의 이름을 토대로 새로운 자동차 객체를 생성하기
      - [x] 새롭게 생성된 자동차 객체의 이동 거리는 `0` 으로 설정
    - [x] 새롭게 생성된 자동차 객체를 저장하기

### 2. 자동차 경주 진행
- 입력 기능
    - [x] 주행을 시도할 횟수를 `Console.readLine()`으로 입력받기
- 입력 유효성 검사 기능
    - [x] 입력된 시도 횟수가 숫자가 맞는지 검사하기
    - [x] 입력된 시도 횟수가 음수인지 검사하기
    - [x] 입력된 시도 횟수가 소수인지 검사하기
- 이동 가능 여부 판별 기능
    - [x] 주행 시도 횟수인 `N` 회차의 과정을 반복하기
    - [x] `Randoms.pickNumberInRange()`을 통해 `0`과 `9`사이의 무작위 값을 받기
    - [x] 무작위 값이 `4` 이상인지 확인하여 이동 가능 여부를 판별하기
- 자동차 이동 및 정보 업데이트
    - [x] 이동 가능하다고 판별된 자동차들의 이동 거리를 `1` 증가시키기
    - [x] 이동 거리가 변화된 자동차의 객체를 저장하여 정보를 업데이트하기
    - [x] 자동차의 현재 이동 거리를 `-`로 변환한 문자열로 반환하기
- 출력 기능
    - [x] `시도할 횟수는 몇 회인가요?` 라는 내용을 사용자에게 출력하기
    - [x] `실행 결과` 라는 내용을 시작으로 매 회차별, 각 자동차의 주행 결과에 대한 현황을 `(이름) : ---` 와 같이 출력하기

### 3. 자동차 경주가 완료된 뒤
- 최종 우승자 찾기 기능
    - [x] 가장 이동 거리를 가진 최종 우승자 리스트를 선별하기
- 출력 기능
    - [x] 우승자가 한 명인 경우, 우승자의 이름을 출력하기
    - [x] 우승자가 여러 명인 경우, 이름을 쉼표`(,)` 로 구분하여 출력하기

---

## 😈 예외 사항
**사용자가 잘못된 값을 입력할 경우, `IllegalArgumentException`을 발생시킨 후 애플리케이션은 종료되어야 한다.**
- [x] 입력된 자동차의 이름은 `5`자보다 클 수 없다.
- [x] 빈 자동차 이름이 입력될 수 없다.
- [x] 이동 횟수에 숫자로 변환될 수 없는 값(공백 포함)은 입력될 수 없다.
- [x] 이동 횟수는 음수가 입력될 수 없다
- [x] 이동 횟수에 소수가 입력될 수 없다

---

### ⁉️ 고려해야할 사항
- [x] indent(인덴트, 들여쓰기)의 depth를 3이 넘지 않도록 구현한다.
- [x] 함수(또는 메서드)가 한 가지 일만 하도록 최대한 작게 만든다.
- [x] 3항 연산자를 쓰지 않는다.
- [x] JUnit5와 AssertJ를 이용하여 정리한 기능 목록이 정상적으로 작동하는지 테스트 코드로 확인한다.
- [x] 하드 코딩을 배제하고, 추후 수정되거나 확장될 수 있는 내용에 대해 별도로 관리한다
- [x] 예외 사항에 대한 메세지를 적합한 키워드와 함께 별도로 관리한다.
- [x] 출력에 필요한 메세지를 적합한 키워드와 함께 별도로 관리한다.
- [x] 시도 횟수에 대한 제약사항이 없기 때문에, `BigInteger`를 활용한다.

---

## 🖥️ 예시

```console
경주할 자동차 이름을 입력하세요.(이름은 쉼표(,) 기준으로 구분)
pobi,woni,jun
시도할 횟수는 몇 회인가요?
5

실행 결과
pobi : -
woni :
jun : -

pobi : --
woni : -
jun : --

... (생략)

pobi : -----
woni : ----
jun : -----

최종 우승자 : pobi, jun
```

---

## 🤔 구현 과정

### 생각 해보기(Before)

#1 ~~이전 주차에 제대로 구현하지 못했던 MVC 구조를 개선하고, 만족시켰는가?~~

#2 ~~테스트를 단순 결과 확인용이 아닌 개발 과정의 일부가 되도록 노력하였는가?~~

#3 ~~코드 리뷰와 1주차 공통 피드백의 내용을 최대한 반영 하였는가?~~

#4 ~~자동차의 이름이 같은 경우, 혹은 입력되지 않거나 공백만 입력된 경우에 대해~~

#5 ~~N 회차가 주어졌을 때, 각 회차마다 각각 이동을 시도한 뒤, 출력을 반복하는 방식 or
N번의 이동을 한 번에 시도하고, 이에 대한 히스토리를 저장해 N번의 출력을 반복하는 방식 중 어떤 것이 적합한가?~~

#6 ~~테스트에서 시스템의 입력이 제대로 처리되지 않는 경우를 해결하는 방법~~

#7 ~~BigInteger에 대하여~~

### 생각 해본 뒤(After)

#1 -> 이전엔 미숙한 구조로 사용해 아쉬운 부분이 많았지만, 이번에는 최대한 클래스 분리를 하려 노력했고, Spring의 MVC 구조를 유사하게
구현해 보려고 노력하였다.

#2 -> TDD에 최대한 맞춰보려고 노력했지만, 익숙하지 않아 많은 시간소요와 착오가 있었고, 특히 이미 구현되지 않은 내용에 대해 
첫째로 실패하는 테스트를 만들고, 둘째로 일단 성공은 하는 테스트로 만들기, 마지막으로 리팩토링을 통해 제대로 검증하는 
테스트로 만들려고 노력했으나 순서가 바뀐 경우도 있어 아쉬웠다.

#3 -> 아쉬웠던 구조에 대한 부분, 메서드가 하나당 하나의 역할만 수행할 수 있도록 하여 1주차보다 나은 결과물을 내기 위해 최대한 노력하였고,
새로운 내용의 적용과 접근 제어, 클래스 분리에 신경을 썼다.

#4 -> 동명 이인은 가능하다 쳐도, 입력되지 않은 경우는 예외 처리를 하도록 했다.

#5 -> 초기엔 한 트랙당 한 번의 출력이 반복되는 방식이었으나, 모든 데이터를 모아 한 번에 출력하는 것으로 변경하였다.

#6 -> BeforeEach와 AfterAll 어노테이션으로 시스템의 입력과 콘솔을 관리하여 해결하였다.

#7 -> "어떤 경우라도 주어지지 않은 예외는 없다" 라는 생각으로 BigInteger을 사용하려고 노력했지만, 마지막 후반부에서 일부 
배열 관련 index를 사용할 때, 어쩔 수 없이 int를 사용해야 하는 경우가 발생해 버려 해결하지 못해 아쉬웠다.

### 마무리하며
개인적으로 미션 자체는 1주차보다 비슷한 난이도라고 생각이 되나, 문제 자체에서 신경쓸 만한 부분은 1주차 미션보다 작은 것 같다는 생각이 들었다.
하지만 지난 주차에 아쉬웠던 부분과 새로 공부한 내용, 클래스의 구조나 메서드의 분리, 코드 리뷰에서 받은 피드백 등을 적용하고
기능 목록을 더욱 세분화 하려고 노력하다보니 구현보다 더 많은 시간을 쓴 것 같다. 원래 이번 목표 중 하나가 구현 이외의 작업에
더욱 신경을 써보는 것이 목표였기에 이는 성공했으나. 생각보다 너무 많은 시간을 쓰게 되어 익숙해 지는 것이 좋을 것 같다는 생각이 들었다.