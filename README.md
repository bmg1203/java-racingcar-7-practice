# java-racingcar-precourse

## 목차

1. [학습 목표](#학습-목표)
2. [과제 요구 사항](#과제-요구-사항)
3. [코드의 책임 분리](#코드의-책임-분리)

## 학습 목표

- 여러 역할을 수행하는 큰 함수를 단일 역할을 수행하는 작은 함수로 분리한다.
- 테스트 도구를 사용하는 방법을 배우고 프로그램이 제대로 작동하는지 테스트한다.
- 1주차 공통 피드백을 최대한 반영한다.

## 과제 요구 사항

### 주의 사항

> 1. 기능을 구현하기 전 README.md에 구현할 기능 목록을 정리해 **추가**한다.
> 2. **Git의 커밋 단위**는 앞 단계에서 README.md에 정리한 **기능 목록 단위로 추가**한다.

**과제 진행 요구 사항**에 따라 첫 Commit(docs: 요구사항 명세 및 Docs 작성) 이후,<br>
후술할 기능 목록 각각을 단위로 Commit한다.

> 📝 **과제에 대한 자세한 설명은 [ASSIGNMENT.md](docs/ASSIGNMENT.md)에서 확인할 수 있습니다.**

### 📝 기능 목록

프리코스 2주차 과제는 "자동차 경주"입니다.<br>
해당 과제의 기능을 분석한 "기능 목록"은 다음과 같습니다
기능 목록을 다음과 같이 작성해드리겠습니다.

- [x] `자동차 이름` 입력 기능 구현
- [x] `자동차 이름` 유효성 검증 기능 구현
- [x] `시도` 횟수 입력 기능 구현
- [x] `시도` 횟수 입력 검증 기능 구현
- [x] `자동차` 객체 생성 및 초기화 기능 구현
- [x] `경주` 객체 생성 및 초기화 기능 구현
- [x] `시도` 별 각 `자동차`의 거리 이동 기능 구현
- [x] `시도` 별 실행 결과 출력 기능 구현
- [x] `경주`의 우승자 명단 생성 로직 구현
- [x] 최종 우승자 출력 기능 구현
- [ ] 테스트 코드 구현

### ⚠️ 예외 처리 상세

1 주차 코드 리뷰를 예외 처리에 근거가 부족했다는 피드백을 가졌습니다.<br>
이에 따라, 각 예외처리에 근거를 추가로 명세했습니다.

- 잘못된 입력에 대한 IllegalArgumentException 예외 처리한다
    - [x] `자동차` 이름이 5자를 초과할 경우 (ex. "pobi123")
    - [x] `자동차` 이름이 중복될 경우 (ex. "pobi,pobi")
        - 실행 결과의 혼란을 줄 수 있음으로, 예외로 처리한다.
    - [x] `자동차` 이름이 비어있는 경우 (ex. "pobi,")
        - 쉼표만 연속으로 입력된 경우를 포함 (ex. "pobi,,woni")
    - [x] `자동차` 이름에 공백만 입력된 경우 (ex. "   ")
        - 실행 결과의 혼란을 줄 수 있음으로, 예외로 처리한다.
    - [x] 시도 횟수가 1 이상의 정수가 아닐 경우 (ex. "-1" 혹은 "abc" 등)
        - 이 경우, 과제 요구사항에 직접적으로 명시되지 않았기에 0회도 가능할 수 있다.
          <br/> 그러나, 자동차 **"경주"** 라는 도메인에 부합하기 위해, 우승자를 가리는 경주가 가능해야한다고 판단했다.
          <br/> 때문에, 1 이상의 정수 값을 시도 횟수를 기준으로 잡았다.
          <br/> 이에 따라 시도 횟수가 문자와 같이 잘못된 입력일 경우, 그리고 음수, 소수일 경우도 포함한다.
    - [ ] ~~쉼표 앞뒤로 공백이 있는 경우 (ex. "pobi , woni")~~
        - 이 경우, 과제 요구사항에 직접적으로 명시되지 않았기에 "LV U!"와 같은 이름도 문제 시 되지 않는다.
          <br/> 또한, 사용자가 구분 목적이 아니라 습관적으로 쉼표 앞뒤에 띄어쓰기를 추가하는 경우도 있을 수 있다.
          <br/> 하지만 " woni"와 "woni" 두 이름이 같이 등록될 경우, 사용자가 결과를 보았을 때 혼란이 생길 수 있다.
          <br/> 이러한 맥락에서 사용자의 편의성을 고려하여, 예외 처리 대신 양끝단의 공백를 제거하고 `자동차` 이름으로 등록한다.

### 🧪 테스트 확인

추가적으로 구현한 테스트 케이스입니다.

*기능 테스트*

- [ ] | 1. 복수 우승자가 정상적으로 선정되는지 테스트
- [ ] | 2. 입력된 횟수만큼 정확히 게임이 진행되는지 테스트
- [ ] | 3. `자동차` 이름의 양끝단의 공백 제거 테스트

*예외 테스트*

- [ ] | 1. `자동차` 이름이 비어있는 경우 예외 발생 테스트
- [ ] | 2. `자동차` 이름이 중복될 경우 예외 발생 테스트
- [ ] | 3. `자동차` 이름에 공백만 입력된 경우 예외 발생 테스트
- [ ] | 4. `자동차` 이름이 비어있는 경우 예외 발생 테스트
- [ ] | 5. 시도 횟수가 1 이상의 int 값이 아닐 경우 예외 발생 테스트

## 코드의 책임 분리

**"1주차 공통 피드백을 최대한 반영한다."** 는 학습 목표 수행을 위해,<br/>
1주 공통 피드백, 이와 더불어 1주차에 진행된 코드 리뷰를 되돌아 보았습니다.<br/>
이번 과제에서는 부족했던 <span style="color: lightgreen">**코드의 책임 분리**</span>에 집중하고자 했습니다.<br>
> 💡 **피드백과 코드 리뷰에 대한 자세한 내용은 [FEED_BACK.md](docs/FEED_BACK.md)에서 확인할 수 있습니다.**

이에 따라 패키지 구조를 통해, 클래스 별 역할의 기준을 세웠습니다.

```
project-root/
├── docs/
├── gradle/
├── src/
│   ├── main/
│   │   └── java/
│   │       └── racingcar/              # 프로젝트의 루트 패키지
│   │           ├── common/             # 공통으로 사용되는 유틸리티성 클래스들
│   │           │   ├── exception/      # 커스텀 예외 클래스들
│   │           │   └── util/           # 공통 유틸리티 클래스들
│   │           ├── controller/         # 사용자 입력을 처리하고 서비스 계층과 연결
│   │           ├── domain/            # 핵심 비즈니스 로직을 담은 도메인 클래스들
│   │           ├── view/              # 사용자 입출력을 처리하는 클래스들
│   │           └── Application.java    # 프로그램의 시작점(main 메서드)
│   └── test/
```

- MVC 패턴을 바탕으로, Model 대신 DDD 패턴의 Domain 개념을 적용시켰습니다. <br>
  이를 통해 흐름 제어는 MVC 패턴과 같이, 객체별 책임 관리는 DDD 패턴과 같이 구현했습니다.

---

[🔝 맨 위로 돌아가기](#java-racingcar-precourse)