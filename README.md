# 자동차 경주
## 프로젝트 설명

이 프로젝트는 자동차가 경주를 하여 가장 멀리 전진한 자동차가 우승하는 간단한 게임입니다.   
사용자는 여러 자동차의 이름을 입력하고 게임의 시도 횟수를 설정하여 경주를 진행할 수 있습니다.

------------
## 기능 목록

+ **자동차 이동**: 지정된 횟수 동안 자동차들은 무작위로 전진하거나 멈출 수 있습니다.
+ **자동차 이름 입력**: 각 자동차에는 이름을 부여하며, 이름은 쉼표(`,`)로 구분합니다.
    + 자동차 이름은 **5자 이하**이어야 합니다.
+ **게임 횟수 설정**: 사용자는 경주할 횟수를 입력합니다.
+ **전진 조건**: 0부터 9 사이의 랜덤 숫자를 생성하며, 숫자가 **4 이상**일 때 자동차가 전진합니다.
+ **우승자 결정**: 경주가 끝나면 가장 멀리 이동한 자동차가 우승합니다.
    + 우승자는 여러 명일 수 있으며, 쉼표(`,`)로 구분됩니다.
+ **예외 처리**: 잘못된 입력이 들어오면 `IllegalArgumentException`을 발생시키고 프로그램을 종료합니다.

------------
## 실행 방법
1. `Application` **클래스**를 실행합니다.
    + 실행 시 `RacingController`의 `start()` 메서드가 호출됩니다.    

2. **사용자 입력**:
    + 경주할 **자동차 이름**을 입력합니다. 이름은 쉼표(`,`)로 구분합니다.
    + **시도 횟수**를 입력합니다.

3. **경주 진행**:
    + 입력된 자동차와 시도 횟수에 따라 경주를 진행합니다.
    + 매 라운드마다 자동차의 이동 상황이 출력됩니다.

4. **결과 출력**:
    + 가장 멀리 전진한 자동차가 우승하며, 우승자 목록이 출력됩니다.

------------
## 클래스 설명

1. `RacingController`
    + **경주를 제어하는 메인 컨트롤러**입니다.
    + 사용자 입력을 받고, 게임을 실행하며, 결과를 출력합니다.
2. `Car`
    + 자동차 객체를 나타내는 클래스입니다.
    + 이름과 현재 위치를 저장하며, 이동 기능을 제공합니다.
3. `CarSetService`
    + 입력된 자동차 이름을 파싱하고 자동차 객체로 변환한 후 저장합니다.
4. `GameService`
    + 경주를 진행하며 라운드별 결과를 생성합니다.
    + 무작위 숫자를 생성해 자동차가 이동할지 결정합니다.
5. `ResultService`
    + 경주 결과와 우승자를 처리하고 출력합니다.
6. `CarRepository`
    + 모든 자동차 객체를 저장하는 **싱글톤 저장소**입니다.
7. `RoundValidator`
    +시도 횟수와 입력값의 유효성을 검증합니다.

------------
## 예외 처리
+ **자동차 이름이 비어 있는 경우**: `"자동차 이름은 비어 있을 수 없습니다."` 예외 발생
+ **자동차 이름이 5자 초과인 경우**: `"자동차 이름은 5글자를 넘을 수 없습니다."` 예외 발생
+ **자동차 이름이 중복된 경우**: `"자동차 이름이 중복 되었습니다: <이름>"` 예외 발생
+ **잘못된 시도 횟수 입력**: 0 이하이거나 숫자가 아닌 경우 예외 발생

------------
## 테스트 방법
1. **기능 테스트**: 입력된 자동차와 시도 횟수에 따라 정상적으로 경주가 진행되는지 검증합니다.
2. **예외 테스트**: 유효하지 않은 입력값에 대해 적절한 예외가 발생하는지 확인합니다.
```
@Test
void 기능_테스트() {
    assertRandomNumberInRangeTest(
        () -> {
            run("pobi,woni", "1");
            assertThat(output()).contains("pobi : -", "woni : ", "최종 우승자 : pobi");
        },
        MOVING_FORWARD, STOP
    );
}
```

------------
## 개발 환경
+ **언어**: Java 11+
+ **테스트 도구**: JUnit 5
+ **의존성**: `camp.nextstep.edu.missionutils` (랜덤 숫자 생성 및 테스트 지원)

------------
## 주요 상수
+ **전진 조건**: `4` 이상일 때 이동
+ **랜덤 범위**: 0~9
+ **최대 이름 길이**: 5자

------------
## 주의사항
+ 프로그램이 실행 중 잘못된 입력이 발생하면 `IllegalArgumentException`을 발생시키며 종료됩니다.
+ 우승자가 여러 명일 경우 쉼표(`,`)로 구분하여 출력됩니다.

------------
