# 🚗 자동차 경주
구현 : PraiseBak(핍비)

## 🛠️ 기능 명세
- [x] 자동차 이름 입력 및 검증
- [x] 자동차 이동 횟수 입력 및 검증
- [x] 자동차 전진 구현
- [x] 경주 관리 및 구현

## 📜 기능 설명
### 자동차 이름 입력 및 검증
- [x] 5글자 이하인지 확인
- [x] 중복된 이름을 허용하는지 확인
- [x] 특수문자 포함하지 않는지 확인

### 자동차 이동 횟수 입력 및 검증
- [x] 숫자인지 확인
- [x] 0과 9 사이인지 확인

### 자동차 전진 구현
- [x] 전진할 수 있는지 확인하여 전진

### 경주 관리 및 구현
- [x] 이동 횟수가 양수 및 범위를 초과하지 않는지 확인
- [x] 이동 횟수만큼 경주 진행
- [x] 경주 결과 출력

## 📂 구조
MVC + TDD를 적용하였습니다.
![img.png](img.png)

## 🏗️ 도메인 구조
### 여러 자동차
- 여러 자동차들을 생성 및 관리하는 일급 컬렉션 Cars를 사용하였습니다.

### 경주
- 자동차들의 경주를 시작및 관리는 Race에서 합니다.

### 자동차 전진
- 각 자동차들이 전진하는 것이라 생각하여 Car이 책임을 갖도록 하였습니다.

### 출력 포맷팅
- 경주 관련 도메인들의 출력 포맷팅을 위한 RaceFormatter를 두었습니다.

## 🧩 코드 레벨 의사결정
### 도메인 분리
- 요구사항에서 자동차와 경주를 추출하였고 자동차'들'이 경주를 하는 것이기 때문에 자동차들을 관리할 수 있도록 Cars를 추출하였습니다.
- 이동 횟수와 글자등을 도메인으로 만들지 않은 이유는 원시 타입으로도 충분히 커버 가능하다 판단하였기 때문입니다.
    - 또한 해당 원시타입에 대한 Utility를 둠으로써 원시타입을 사용하는 다른 코드들에 대한 호환성을 높게 하도록 결정하였습니다.
- 또한 각 도메인의 open되어야하는 프로퍼티가 최소 2개이상이면 dto로 리턴하도록 하였습니다.

### 유효성 체크
- 현재 요구사항에서는 유효성 체크 부분이 복잡하지 않고 그 양이 많지 않아 충분히 도메인내에서 처리가능하다 생각하였습니다.     
  (개인 기준은 "각 도메인에서 2개 이하의 유효성 체크를 해야하는가?" 였습니다)

### 책임 분리
#### Controller와 Service 책임 분리
- Controller에서 도메인을 생성하니 Controller에만 너무 많은 책임이 부여되었습니다.
    - 이에 도메인 생성 및 실행은 Service에서 하도록 책임을 위임하였습니다.

#### 비즈니스 로직 책임
- 또한 각각의 비즈니스로직은 Domain에서만 진행하도록 하여 Service에 너무 많은 책임이 부여하지 않게 하였습니다.
- 예로, 레이스를 진행하는 것은 Race 도메인이며, RaceService는 실행 순서를 제공할 뿐입니다.