# java-racingcar-precourse

## 미션 소개

이 프로젝트는 우아한테크코스 프리코스 2주차 미션으로, 자동차 경주 게임을 구현한다.

## 미션 목표

- 객체 지향 프로그래밍 원칙을 적용한 게임을 구현한다.
- 기능별 커밋을 원칙으로 한다.
- TDD를 적용한다.
    - 각 기능별로 테스트 케이스를 작성한다.
    - 기능별로 해피 케이스, 예외 케이스를 나누어 작성한다.
    - 실패 테스트 작성 -> 테스트 통과 -> 리팩토링
- 클린 코드를 지향하며 의미 있는 변수명과 메서드명을 사용한다.
- indent의 depth를 3이 넘지 않도록 구현한다.
- 메서드가 한 가지 일만 하도록 최대한 작게 만든다.
- 3항 연산자를 쓰지 않는다.

## 주요 클래스 설명

- `Application`: 프로그램의 진입점으로, RaceManager를 초기화하고 실행을 위임한다.
- `RaceManager`: 레이싱 게임의 진행, 우승자 판정 등 전체적인 게임 로직을 관리한다.
- `Car`: 자동차의 이름과 위치를 관리하고 이동 로직을 수행한다.
- `Cars`: 자동차들의 일급 컬렉션으로, 자동차 목록을 관리하고 이름 중복을 검증한다.
- `IoHandler`: InputHandler와 OutputHandler를 필드로 가지고 입출력을 총괄한다.
    - `InputHandler`: 사용자 입력을 받고 유효성을 검증한다.
    - `OutputHandler`: 게임 진행 상황과 결과를 출력한다.
- `ValidatingParser`: 입력값의 파싱과 검증을 담당한다.

## 기능 목록

### 입력 기능 (InputHandler)

- [ ] Console.readLine()을 사용해 경주할 자동차들의 이름을 입력받는다.
- [ ] Console.readLine()을 사용해 시도할 횟수를 입력받는다.

### 입력 검증 및 변환 기능 (ValidatingParser)

- [ ] 쉼표(,)로 구분된 문자열을 자동차 이름 목록으로 분리한다.
- [ ] 자동차 이름이 5자 이하인지 검증한다.
- [ ] 자동차 이름이 빈 문자열이 아닌지 검증한다.
- [ ] 시도 횟수가 양의 정수인지 검증한다.

### 자동차 이동 기능 (Car)

- [ ] 자동차 이름으로 Car 객체를 생성한다.
- [ ] Randoms.pickNumberInRange()를 사용해 0-9 사이의 무작위 값을 받아 4이상일 경우 전진한다.
- [ ] 현재까지의 이동 거리를 반환한다.

### 자동차 목록 관리 기능 (Cars)

- [ ] 자동차들의 이름 중복을 검증한다.
- [ ] 자동차 목록을 관리한다.

### 게임 진행 기능 (RaceManager)

- [ ] Cars 일급 컬렉션을 생성하고 관리한다.
- [ ] 입력받은 횟수만큼 라운드를 진행한다.
- [ ] 각 라운드마다 모든 자동차를 이동시킨다.
- [ ] 가장 멀리 이동한 자동차들을 우승자로 선정한다.

### 출력 기능 (OutputHandler)

- [ ] 게임 시작 시 입력 안내 메시지를 출력한다.
- [ ] 게임 진행 상황을 출력한다.
- [ ] 게임 결과를 출력한다.

## 테스트 목록

### 도메인 테스트

- Car 테스트
    - 올바른 이름으로 자동차가 생성된다.
    - 차 이름이 5자를 초과하면 예외가 발생한다.
    - 차 이름이 빈 문자열이면 예외가 발생한다.
    - 랜덤 값이 4 이상일 때만 전진한다.
    - 현재 위치를 정확히 반환한다.

- Cars 테스트
    - 자동차 이름 중복 시 예외가 발생한다.
    - 자동차 목록이 정상적으로 생성된다.
    - 자동차 목록을 정상적으로 반환한다.

### 비즈니스 로직 테스트

- RaceManager 테스트
    - 입력된 횟수만큼 정확히 게임이 진행된다.
    - 각 라운드마다 모든 자동차가 정상적으로 이동한다.
    - 가장 멀리 이동한 차가 우승자로 선정된다.
    - 동일한 거리의 차가 여러 대일 경우 공동 우승으로 처리된다.

### 입출력 테스트

- IoHandler 테스트
    - InputHandler와 OutputHandler를 통해 입출력이 정상적으로 동작한다.

- InputHandler 테스트
    - 차 이름 입력 시 쉼표로 구분되지 않으면 예외가 발생한다.
    - 시도 횟수가 숫자가 아니면 예외가 발생한다.
    - 음수나 0을 입력하면 예외가 발생한다.

- OutputHandler 테스트
    - 각 차수별 실행 결과가 올바르게 출력된다.
    - 단독 우승자가 올바르게 출력된다.
    - 공동 우승자가 올바르게 출력된다.

- ValidatingParser 테스트
    - 쉼표로 구분된 문자열을 올바르게 분리한다.
    - 자동차 이름이 5자를 초과하면 예외가 발생한다.
    - 시도 횟수가 숫자가 아니면 예외가 발생한다.

## 예외 처리

모든 예외는 `IllegalArgumentException`으로 처리하며 다음과 같은 상황에서 발생한다.

- 자동차 이름이 5자를 초과하는 경우
- 자동차 이름이 빈 문자열인 경우
- 입력값이 쉼표로 구분되지 않은 경우
- 시도 횟수가 숫자가 아닌 경우
- 시도 횟수가 0 이하인 경우

## 작성자

lvalentine6 (이승로)