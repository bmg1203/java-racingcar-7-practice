# java-racingcar-precourse

## 미션 소개

이 프로젝트는 우아한테크코스 프리코스 2주차 미션으로, 자동차 경주 게임을 구현한다.

## 미션 목표

- 객체 지향 프로그래밍 원칙을 적용한 게임을 구현한다.
- 기능별 커밋을 원칙으로 한다.
- TDD를 적용한다.
    - 각 기능별로 테스트 케이스를 작성한다.
    - 기능별로 해피 케이스, 예외 케이스를 나누어 작성한다.
    - 실패 테스트 작성 -> 테스트 통과 -> 리팩토링
- 클린 코드를 지향하며 의미 있는 변수명과 메서드명을 사용한다.
- indent의 depth를 3이 넘지 않도록 구현한다.
- 메서드가 한 가지 일만 하도록 최대한 작게 만든다.
- 3항 연산자를 쓰지 않는다.

## 주요 클래스 설명

- `Application`: 프로그램의 진입점으로, RaceManager를 초기화하고 실행을 위임한다.
- `RaceManager`: 레이싱 게임의 진행, 우승자 판정 등 전체적인 게임 로직을 관리한다.
- `Car`: 자동차의 이름과 이동거리를 관리하고 이동 로직을 수행한다.
- `Cars`: 자동차들의 일급 컬렉션으로, 자동차 목록을 관리하고 이동/상태/우승자 관련 기능을 제공한다.
- `CarStatus`: 자동차의 상태(이름, 이동거리)를 표현하는 VO
- `RaceInfo`: 레이스 정보(자동차 이름들, 시도 횟수)를 관리하는 VO
- `IoHandler`: 입출력과 검증을 총괄한다.
   - `InputHandler`: Console을 통한 사용자 입력을 담당한다.
   - `OutputHandler`: 게임 진행 상태와 결과 출력을 담당한다.
- `RandomNumberProvider`: 자동차 이동을 위한 랜덤 값 생성을 담당한다.
- `ValidatingParser`: 입력값의 파싱과 검증을 담당한다.
- `ValidationError`: 검증 관련 에러 메시지를 관리하는 enum

## 기능 목록

### 입력 기능 (InputHandler)
- [x] Console.readLine()을 사용해 경주할 자동차들의 이름을 입력받는다.
- [x] Console.readLine()을 사용해 시도할 횟수를 입력받는다.

### 입력 검증 및 변환 기능 (ValidatingParser)
- [x] 쉼표(,)로 구분된 문자열을 자동차 이름 목록으로 분리한다.
- [x] 자동차 이름이 5자 이하인지 검증한다.
- [x] 자동차 이름이 빈 문자열이 아닌지 검증한다.
- [x] 자동차 이름이 2개 이상인지 검증한다.
- [x] 시도 횟수가 숫자인지 검증한다.
- [x] 시도 횟수가 양의 정수인지 검증한다.

### 자동차 이동 기능 (Car)
- [x] 자동차 이름으로 Car 객체를 생성한다.
- [x] 자동차 생성시 이름이 5자 이하인지 검증한다.
- [x] 전달받은 랜덤값이 4 이상일 경우 이동거리를 1 증가시킨다.
- [x] 현재 이동 거리를 반환한다.
- [x] 자동차 이름을 반환한다.

### 자동차 목록 관리 기능 (Cars)
- [x] 자동차 이름 목록으로 Cars를 생성한다.
- [x] 자동차들의 이름 중복을 검증한다.
- [x] 자동차 목록의 크기를 반환한다.
- [x] 모든 자동차를 랜덤값에 따라 이동시킨다.
- [x] 자동차들의 현재 상태를 CarStatus 목록으로 반환한다.
- [x] 가장 멀리 이동한 자동차들을 결정하고 이름을 반환한다.

### 게임 진행 기능 (RaceManager)
- [x] IoHandler와 RandomNumberProvider를 통해 생성된다.
- [x] RaceInfo를 받아 Cars를 생성한다.
- [x] 입력받은 횟수만큼 라운드를 진행한다.
- [x] 각 라운드마다 모든 자동차를 랜덤값으로 이동시킨다.
- [x] Cars에게 우승자 결정을 요청하고 결과를 출력한다.

### 출력 기능 (OutputHandler)
- [x] 자동차 이름 입력 요청 메시지를 출력한다.
- [x] 시도 횟수 입력 요청 메시지를 출력한다.
- [x] 게임 실행 결과 메시지를 출력한다.
- [x] 각 차량의 이름과 이동거리를 출력한다.
- [x] 최종 우승자 목록을 출력한다.

### 랜덤값 생성 기능 (RandomNumberProvider)
- [x] Randoms.pickNumberInRange()를 사용해 0-9 사이의 랜덤값을 생성한다.
- [x] 자동차 개수만큼의 랜덤값 목록을 생성한다.

## 테스트 목록

### Car 테스트
- [x] 자동차 이름이 5자를 초과하면 IllegalArgumentException 예외가 발생한다.
- [x] 랜덤값이 타겟값보다 크면 이동거리가 1만큼 증가한다.
- [x] 랜덤값이 타겟값보다 작으면 이동거리가 증가하지 않는다.

### Cars 테스트
- [x] 차 이름 목록으로 Cars 생성에 성공한다.
- [x] 중복된 차 이름이 있으면 IllegalArgumentException 예외가 발생한다.
- [x] 랜덤값에 따라 차량을 이동시킨다.
- [x] 차량들의 현재 상태를 반환한다.
- [x] 가장 멀리 이동한 차를 우승자로 반환한다.
- [x] 가장 멀리 이동한 차들을 우승자로 반환한다.

### RandomNumberProvider 테스트
- [x] 차 목록의 개수만큼 랜덤 값을 반환한다.

### ValidatingParser 테스트
- [x] 쉼표로 구분된 문자열을 분리하여 자동차 이름 목록을 반환한다.
- [x] 자동차 이름이 한개라면 IllegalArgumentException 예외가 발생한다.
- [x] 자동차 이름에 빈 문자열이 있으면 IllegalArgumentException 예외가 발생한다.
- [x] 자동차 이름이 5자를 초과하면 IllegalArgumentException 예외가 발생한다.
- [x] 시도 횟수를 숫자로 반환한다.
- [x] 시도 횟수가 숫자가 아니면 IllegalArgumentException 예외가 발생한다.
- [x] 시도 횟수가 양수가 아니면 IllegalArgumentException 예외가 발생한다.

## 작성자

lvalentine6 (이승로)